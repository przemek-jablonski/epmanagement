{% extends 'TicketBundle::layout.html.twig' %}

{% block body %}

    <section class="events">

        <header id="menu">
                <h2>Your tickets in one place:</h2>
        </header>




        <hr>
        {% if upcomingTickets|length<1 %}
            <header id="menu"><h3>No upcoming Tickets!</h3></header><br><br>

        {% else %}
            <header id="menu"><h3>Upcoming Tickets:</h3></header>
            {% for ticket in upcomingTickets %}
                <article>
                    <section>
                        <div class="alert alert-warning fade in">
                        <h3>
                            <a href="{{ path('ticketcrud_show', {'slug': ticket.slug}) }}">{{ ticket.name }}</a>
                        </h3>
                        <dl>
                            {#<dt>Ticket ID:</dt>#}
                            {#<dd>{{ ticket.id }}</dd>#}

                            <dt>Name:</dt>
                            <dd>{{ ticket.name }}</dd>

                            <dt>Desc:</dt>
                            <dd>{{ ticket.description }}</dd>

                            {#<dt>Creation:</dt>#}
                            {#<dd>{{ ticket.dateCreation | date("Y-m-d H:i:s") }}</dd>#}

                            <dt>Deadline:</dt>
                            <dd> {{ ticket.dateDeadline | date("Y-m-d H:i:s") }} </dd>

                            <dt>Reporter:</dt>
                            <dd>{{ ticket.userCreated.username }}</dd>

                            <dt>Assignee:</dt>
                            <dd>{{ ticket.userAssigned }}</dd>

                            <dt>Project:</dt>
                            <dd>{{ ticket.project }}</dd>

                            {#<dt>Sprint:</dt>#}
                            {#<dd>{{ ticket.numberPoints }}</dd>#}

                            <dt>Status:</dt>
                            {#<dd>{{ ticket.status }}</dd>#}

                        </dl>
                        </div>
                    </section>
                </article>
            {% endfor %}
        {% endif %}

        {% block javascripts %}
            {{ parent() }}
        <!-- Trigger the modal with a button -->
        {#<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Open Modal</button>#}
        <li><a class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">MODAL</a></li>

        <!-- Modal -->
        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Modal Header</h4>
                    </div>
                    <div class="modal-body">
                        <p>Some text in the modal.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>
        {% endblock %}


        {% if overdueTickets|length<1 %}
            <header id="menu"><h3>No overdue Tickets!</h3></header>
        {% else %}
            <header id="menu"><h3>Overdue Tickets:</h3></header>
            {% for ticket in overdueTickets %}
                <article>
                    <section>
                        <div class="alert alert-danger fade in">
                            <h3>
                                <a href="{{ path('ticketcrud_show', {'slug': ticket.slug}) }}">{{ ticket.name }}</a>
                            </h3>
                            <dl>
                                {#<dt>Ticket ID:</dt>#}
                                {#<dd>{{ ticket.id }}</dd>#}

                                <dt>Name:</dt>
                                <dd>{{ ticket.name }}</dd>

                                <dt>Desc:</dt>
                                <dd>{{ ticket.description }}</dd>

                                {#<dt>Creation:</dt>#}
                                {#<dd>{{ ticket.dateCreation | date("Y-m-d H:i:s") }}</dd>#}

                                <dt>Deadline:</dt>
                                <dd> {{ ticket.dateDeadline | date("Y-m-d H:i:s") }} </dd>

                                <dt>Reporter:</dt>
                                <dd>{{ ticket.userCreated.username }}</dd>

                                <dt>Assignee:</dt>
                                <dd>{{ ticket.userAssigned }}</dd>

                                <dt>Project:</dt>
                                <dd>{{ ticket.project }}</dd>

                                {#<dt>Sprint:</dt>#}
                                {#<dd>{{ ticket.numberPoints }}</dd>#}

                                {#<dt>Status:</dt>#}
                                {#<dd>{{ ticket.status }}</dd>#}

                            </dl>
                        </div>
                    </section>
                </article>
            {% endfor %}
        {% endif %}
    </section>
{% endblock %}
